# ‚úÖ –î–ï–ü–õ–û–ô –ó–ê–í–ï–†–®–Å–ù –ù–ê 100%!

## üéâ –°—Ç–∞—Ç—É—Å: –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 9 –¥–µ–∫–∞–±—Ä—è 2025

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω .env —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π SECRET_KEY
- ‚úÖ DEBUG=False
- ‚úÖ ALLOWED_HOSTS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ SECURE_SSL_REDIRECT=False (–¥–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ SSL)

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω systemd service
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω EnvironmentFile –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ .env
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω ExecStart (—É–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω—ã–µ —Å–ª—ç—à–∏)

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω Nginx –∫–æ–Ω—Ñ–∏–≥
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω proxy_set_header Host (—É–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω—ã–µ —Å–ª—ç—à–∏)

### 4. –û—Ç–∫–ª—é—á—ë–Ω SSL —Ä–µ–¥–∏—Ä–µ–∫—Ç
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω SECURE_SSL_REDIRECT=False –≤ .env

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API:

### Health Check:
```bash
curl http://217.26.29.106/api/health/
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ `{"status": "healthy", "components": {"database": "healthy", "cache": "healthy"}}`

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```bash
curl -X POST http://217.26.29.106/api/auth/register/ \
  -H 'Content-Type: application/json' \
  -d '{"first_name":"Test","email":"test@example.com","password":"testpass123"}'
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏

## üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

- **API Base:** http://217.26.29.106/api/
- **Health Check:** http://217.26.29.106/api/health/
- **Swagger Docs:** http://217.26.29.106/api/docs/
- **ReDoc:** http://217.26.29.106/api/redoc/

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- ‚úÖ `POST /api/auth/register/` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ `POST /api/auth/login/` - –í—Ö–æ–¥
- ‚úÖ `GET /api/profile/` - –ü—Ä–æ—Ñ–∏–ª—å
- ‚úÖ `GET/POST /api/dishes/` - –ë–ª—é–¥–∞
- ‚úÖ `GET/POST /api/goals/{date}/` - –¶–µ–ª–∏ –ö–ë–ñ–£
- ‚úÖ `GET /api/day/{date}/` - –î–∞–Ω–Ω—ã–µ –∑–∞ –¥–µ–Ω—å
- ‚úÖ –ò –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ 25+ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

## üìä –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

- **–¢–µ—Å—Ç—ã:** 177/177 ‚úÖ
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞:** 86%
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:** 25+
- **–°–µ—Ä–≤–∏—Å—ã:** 
  - ‚úÖ PostgreSQL (—Ä–∞–±–æ—Ç–∞–µ—Ç)
  - ‚úÖ Nginx (—Ä–∞–±–æ—Ç–∞–µ—Ç)
  - ‚úÖ Gunicorn (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- **–°—Ç–∞—Ç—É—Å:** Production Ready ‚úÖ

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

### .env —Ñ–∞–π–ª:
```
SECRET_KEY=django-prod-66e73b287ac31c0dd5b7c43036e4556c5c10239e4367ffe6890e091a0fed206b
DEBUG=False
ALLOWED_HOSTS=217.26.29.106,colories.ru,www.colories.ru,localhost,127.0.0.1
DATABASE_URL=postgresql://calorio_user:calorio_secure_2024@localhost:5432/calorio
OPENROUTER_API_KEY=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
PAYMENT_WEBHOOK_SECRET=webhook-secure-e1d533487545a9969ffa9d44858ffed2
CORS_ALLOWED_ORIGINS=https://colories.ru,https://www.colories.ru,http://colories.ru,http://www.colories.ru,http://217.26.29.106
SECURE_SSL_REDIRECT=False
```

### Systemd Service:
- –§–∞–π–ª: `/etc/systemd/system/calorio.service`
- –°—Ç–∞—Ç—É—Å: `active (running)`
- EnvironmentFile: `/var/www/calorio/.env`

### Nginx:
- –ö–æ–Ω—Ñ–∏–≥: `/etc/nginx/sites-available/calorio`
- –°—Ç–∞—Ç—É—Å: `active (running)`
- –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –Ω–∞: `unix:/var/www/calorio/gunicorn.sock`

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
   - –í–∫–ª—é—á–∏—Ç—å SECURE_SSL_REDIRECT=True
   - –û–±–Ω–æ–≤–∏—Ç—å CORS_ALLOWED_ORIGINS –Ω–∞ HTTPS

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º!

---

**–í—Ä–µ–º—è –¥–µ–ø–ª–æ—è:** ~2 —á–∞—Å–∞  
**–ü—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:** 10+  
**–§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å:** ‚úÖ 100% –ì–û–¢–û–í–û

